<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
   </head>
<body>
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
    
    <div class="content">
        <p style="color:white; font-size:30px;">Siena Ton</p>
    <input type="text" id="search-box" placeholder="Your name here">
    <div style="display: grid; width:50%; gap:10px;
  grid-template-columns: repeat(2, 1fr);">
        <p style="width:100%; display:flex; justify-content:center;">Ctrl + C</p>
        <p style="width:100%; display:flex; justify-content:center;">Ctrl + V</p>
        <p style="width:100%; display:flex; justify-content:center;">Ctrl + D</p>
        <p style="width:100%; display:flex; justify-content:center;">Ctrl + S</p>
    </div>
    <button id="connect-wallet">Подключить кошелек</button>
    <p id="wallet-address">Адрес кошелька: —</p>
</div>



    <script>
              document.getElementById('connect-wallet').addEventListener('click', async () => {
            try {
                const wallets = await tonConnect.getWallets();
                const wallet = wallets[0];
                
                await tonConnect.connect({ universalLink: wallet.universalLink });
                alert('Кошелек подключен!');
                document.getElementById('wallet-address').innerText = `Адрес кошелька: ${tonConnect.wallet.account.address}`;
            } catch (error) {
                console.error('Ошибка подключения:', error);
                alert('Не удалось подключить кошелек.');
            }
        });
    //  fetch('https://tonapi.io/v2/accounts/0:694ea8b902cc86fde1d31368fd448f2f0ffc7eff9b5a16677870d77b79e8fc10/events?limit=25&before_lt=51569969000001')
	// 			.then(response => response.ok ? response.json() : Promise.reject('Error'))
	// 			.then(data => {

	// 			console.log(data)

	// 			})
	// 			.catch(console.error);
    async function fetchData() {
    const url = 'https://tonapi.io/v2/accounts/0:694ea8b902cc86fde1d31368fd448f2f0ffc7eff9b5a16677870d77b79e8fc10/events?limit=25&before_lt=51569969000001';

    for (let i = 0; i < 5; i++) {
        try {
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            const data = await response.json();
            console.log(data); // Вывод данных
        } catch (error) {
            console.error('Error:', error);
        }

        // Задержка в 1 секунду (1000 миллисекунд) перед следующим запросом
        if (i < 4) await new Promise(resolve => setTimeout(resolve, 2000));
    }
}

// fetchData();

    </script>
</body>
</html>